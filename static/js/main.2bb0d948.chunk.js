(this["webpackJsonpmap-project"]=this["webpackJsonpmap-project"]||[]).push([[0],{3:function(e,t,a){e.exports={search_item:"SearchItem_search_item__2ICqs"}},31:function(e,t,a){e.exports={search_bar:"SearchBar_search_bar__ASkdf"}},40:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(0),r=a.n(n),s=a(12),o=a.n(s),i=(a(40),function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,63)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))}),u=a(6),l=a(28),j=a(7),b=a.n(j),p=a(8),d=a(5),O=a(4),m=a(30),h=a.n(m).a.create({baseURL:"https://search-maps.yandex.ru/v1/"}),f=function(e){return h.get("?text=\u041a\u043e\u043c\u043f\u044c\u044e\u0442\u0435\u0440\u043d\u044b\u0435 \u043a\u0443\u0440\u0441\u044b, ".concat(e,"&type=biz&lang=ru_RU&results=100&apikey=6f1a0a0c-b9b7-49ed-a969-1db3f019a8d1"))},_={feature:[{geometry:{coordinates:[]},properties:{CompanyMetaData:{name:"",address:"",url:""}}}],myLocation:[],center:[32.99054220474171,3.8141637443059158],zoom:3,search:""},g=function(e){return function(t){f(e).then((function(e){t({type:"MAPS/GET_PLACEMARKS",feature:e.data.features})})).catch((function(e){}))}},x=a(34),y=a(31),C=a.n(y),v=a(3),A=a.n(v),S=a.p+"static/media/rating-icon.20719ad2.svg",N=function(e){return Object(c.jsxs)("div",{className:A.a.search_item,children:[Object(c.jsxs)("h4",{className:A.a.title,children:["---",e.number,"--- ",e.name]}),Object(c.jsx)("div",{className:A.a.address,children:e.address}),Object(c.jsx)("div",{className:A.a.address,children:e.url}),Object(c.jsxs)("div",{className:A.a.rating,children:["(5)",Object(c.jsx)("img",{className:A.a.rating_star,src:S,alt:"Rating"}),Object(c.jsx)("img",{className:A.a.rating_star,src:S,alt:"Rating"}),Object(c.jsx)("img",{className:A.a.rating_star,src:S,alt:"Rating"}),Object(c.jsx)("img",{className:A.a.rating_star,src:S,alt:"Rating"}),Object(c.jsx)("img",{className:A.a.rating_star,src:S,alt:"Rating"})]})]})},M=a(32),E=function(e){var t=e.resultArray.length,a=Object(n.useState)(1),r=Object(u.a)(a,2),s=r[0],o=r[1],i=Object(n.useState)([]),l=Object(u.a)(i,2),j=l[0],b=l[1],p=Object(n.useState)(!0),d=Object(u.a)(p,2),O=d[0],m=d[1],h=Object(n.useState)(0),f=Object(u.a)(h,2),_=f[0],g=f[1],y=Object(n.useState)(""),v=Object(u.a)(y,2),A=v[0],S=v[1];Object(n.useEffect)((function(){E()}),[]);var E=function(){if(O){var a=function(e,t){return Object(x.a)(e).splice(t,5)}(e.resultArray,_);a&&(t===j.length+a.length&&m(!1),b(j.concat(a)),o(s+1),g(_+5)),0===j.length&&S("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0448\u0435\u043b :(")}};return 0!==j.length?Object(c.jsx)("div",{children:Object(c.jsxs)("div",{className:C.a.search_bar,children:[j.map((function(e,t){return Object(c.jsx)(N,{number:t+1,address:e.properties.CompanyMetaData.address,url:e.properties.CompanyMetaData.url,name:e.properties.CompanyMetaData.name},t)})),O&&Object(c.jsx)(M.a,{onEnter:function(){s>1&&E()},children:Object(c.jsx)("div",{children:"Loading..."})})]})}):Object(c.jsx)("h2",{children:A})},P=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(d.b)(),o=Object(d.c)((function(e){return e.map.feature})),i=Object(d.c)((function(e){return e.map.myLocation})),j=Object(d.c)((function(e){return e.map.center})),O=Object(d.c)((function(e){return e.map.zoom})),m=Object(d.c)((function(e){return e.map.search})),h=Object(n.useState)(""),f=Object(u.a)(h,2),_=f[0],x=f[1],y=Object(l.usePosition)(!0),C=y.latitude,v=y.longitude,A={width:3538,center:j,zoom:O,controls:[]};Object(n.useEffect)((function(){s(g(m))}),[s,m]);return Object(c.jsxs)("div",{className:b.a.app,children:[Object(c.jsxs)("div",{className:b.a.search_container,children:[Object(c.jsxs)("div",{className:b.a.search,children:[Object(c.jsx)("input",{type:"text",value:_,onChange:function(e){x(e.currentTarget.value)},className:b.a.search_box,placeholder:"Search"}),Object(c.jsx)("input",{value:"search",type:"submit",onClick:function(){s(g(_)),r(!0)},className:b.a.button}),Object(c.jsx)("input",{value:"X",type:"submit",className:b.a.button}),a?Object(c.jsx)("button",{onClick:function(){return r(!1)},children:"hide"}):Object(c.jsx)("button",{onClick:function(){return r(!0)},children:"show"})]}),a&&Object(c.jsx)("div",{className:b.a.results,children:Object(c.jsx)(E,{resultArray:o})})]}),Object(c.jsx)(p.d,{query:{lang:"ru_RU",load:"package.full"},children:Object(c.jsxs)(p.b,{width:"100%",height:"100vh",state:{zoom:O,center:j},defaultState:A,modules:["geoObject.addon.editor","geolocation","geocode"],children:[o.map((function(e){return Object(c.jsx)(p.c,{geometry:[e.geometry.coordinates[1],e.geometry.coordinates[0]],modules:["geoObject.addon.balloon","geoObject.addon.hint"],properties:{balloonContentHeader:e.properties.CompanyMetaData.name,balloonContentBody:e.properties.CompanyMetaData.address,balloonContentFooter:e.properties.CompanyMetaData.url}})})),Object(c.jsx)(p.c,{geometry:[53.917485,27.604842],options:{preset:"islands#circleDotIcon",iconColor:"#002222"},properties:{balloonContentHeader:"It-\u0438\u043d\u043a\u0443\u0431\u0430\u0442\u043e\u0440",balloonContentBody:"\u0411\u0435\u043b\u0430\u0440\u0443\u0441\u044c, \u041c\u0438\u043d\u0441\u043a,\u0443\u043b. \u0421\u0443\u0440\u0433\u0430\u043d\u043e\u0432\u0430, 2",balloonContentFooter:"http://it-kamasutra.com/"}}),Object(c.jsx)(p.c,{geometry:i,options:{preset:"islands#circleDotIcon",iconColor:"#ff0000"}}),Object(c.jsx)(p.a,{onClick:function(){var e=[C,v];s(function(e,t){return{type:"MAPS/MY_LOCATION",location:e,zoom:t}}(e,14)),s(function(e){return{type:"MAPS/CENTER_POSITION",center:e}}(e))},options:{float:"right"}})]})})]})},R=a(9),I=a(33),L=Object(R.c)({map:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAPS/GET_PLACEMARKS":return Object(O.a)(Object(O.a)(Object(O.a)({},e),e.feature),{},{feature:t.feature});case"MAPS/MY_LOCATION":return Object(O.a)(Object(O.a)(Object(O.a)({},e),e.myLocation),{},{myLocation:t.location,zoom:t.zoom});case"MAPS/CENTER_POSITION":return Object(O.a)(Object(O.a)({},e),{},{center:t.center});case"MAPS/SEARCH_VALUE":return Object(O.a)(Object(O.a)({},e),{},{searchValue:t.search});default:return e}}}),D=Object(R.d)(L,Object(R.a)(I.a)),T=D;window.store=D,o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(d.a,{store:T,children:Object(c.jsx)(P,{})})}),document.getElementById("root")),i()},7:function(e,t,a){e.exports={app:"App_app__90Dp9",search_container:"App_search_container__1tf1d",search:"App_search__1acH8",search_box:"App_search_box__2MGy5",button:"App_button__1vEel",results:"App_results__3KN1B",result:"App_result__1RgEp",map:"App_map__QQhb4"}}},[[62,1,2]]]);
//# sourceMappingURL=main.2bb0d948.chunk.js.map